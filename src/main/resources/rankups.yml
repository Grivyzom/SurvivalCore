# =======================================================
#           RANKUP SYSTEM 2.0 - RANGOS PERSONALIZADOS
# =======================================================
# default > aprendiz > usuario > miembro > veterano
# =======================================================

# =================== CONFIGURACI√ìN GENERAL ===================
settings:
  cooldown: 5
  enable_prestige: false
  enable_effects: true
  enable_broadcast: true
  debug_mode: true  # üîß MANTENER EN true hasta solucionar el problema

# =================== INTEGRACI√ìN CON LUCKPERMS ===================
luckperms:
  detection_method: "primary_group"
  group_prefix: ""  # ‚úÖ CORRECTO: Si tus grupos son solo "default", "aprendiz", etc.
  default_rank: "default"

# =================== TUS RANGOS PERSONALIZADOS ===================
ranks:
  # üèÅ RANGO INICIAL - DEFAULT (Novato)
  default:
    name: "&7[&fNovato&7]"
    next: "aprendiz"
    order: 0
    requirements:
      # üîß CORRECCI√ìN: Usar 'money' en lugar de 'vault_balance'
      money: 1000
      level: 5
      playtime_hours: 1  # üîß CORRECCI√ìN: Usar playtime_hours consistentemente
      mob_kills: 20
    rewards:
      xp: 200
      commands:
        - "give %player% iron_ingot 5"
        - "tell %player% &a¬°Felicidades! Ahora eres &2Aprendiz&a!"

  # üìö SEGUNDO RANGO - APRENDIZ
  aprendiz:
    name: "&2[&aAprendiz&2]"
    next: "usuario"
    order: 1
    requirements:
      money: 5000
      level: 15
      playtime_hours: 5   # 5 horas jugadas
      mob_kills: 100
      blocks_mined: 500
      farming_level: 10
    rewards:
      xp: 500
      commands:
        - "give %player% diamond 3"
        - "give %player% gold_ingot 10"
        - "broadcast &a%player% &fha ascendido a &2Aprendiz&f!"

  # üë§ TERCER RANGO - USUARIO
  usuario:
    name: "&9[&bUsuario&9]"
    next: "miembro"
    order: 2
    requirements:
      money: 15000
      level: 30
      playtime_hours: 15  # 15 horas jugadas
      mob_kills: 300
      blocks_mined: 2000
      farming_level: 25
      mining_level: 20
      animals_bred: 15
    rewards:
      xp: 1000
      commands:
        - "give %player% diamond 8"
        - "give %player% emerald 5"
        - "give %player% netherite_ingot 1"
        - "broadcast &b%player% &fha ascendido a &bUsuario&f!"

  # üèÜ CUARTO RANGO - MIEMBRO
  miembro:
    name: "&6[&eMiembro&6]"
    next: "veterano"
    order: 3
    requirements:
      money: 50000
      level: 50
      playtime_hours: 40  # 40 horas jugadas
      mob_kills: 800
      blocks_mined: 8000
      farming_level: 50
      mining_level: 45
      animals_bred: 50
      fish_caught: 100
      ender_dragon_kills: 1
    rewards:
      xp: 2500
      commands:
        - "give %player% diamond 20"
        - "give %player% emerald 15"
        - "give %player% netherite_ingot 3"
        - "broadcast &6%player% &fha ascendido a &6Miembro&f! &e¬°Un logro impresionante!"

  # üåü RANGO M√ÅXIMO - VETERANO
  veterano:
    name: "&5&l[&d&lVETERANO&5&l]"
    next: null  # Rango m√°ximo
    order: 4
    requirements:
      money: 150000
      level: 80
      playtime_hours: 100  # 100 horas jugadas
      mob_kills: 2000
      blocks_mined: 25000
      farming_level: 80
      mining_level: 75
      animals_bred: 100
      fish_caught: 200
      ender_dragon_kills: 5
      wither_kills: 3
    rewards:
      xp: 5000
      commands:
        - "give %player% diamond_block 5"
        - "give %player% emerald_block 3"
        - "give %player% netherite_block 2"
        - "broadcast &5&l%player% &fha alcanzado el rango m√°ximo: &5&lVETERANO&f! &d¬°Leyenda del servidor!"
        - "title %player% title &5&l¬°VETERANO!"
        - "title %player% subtitle &d¬°Has alcanzado la cima!"

# =================== MENSAJES PERSONALIZADOS ===================
messages:
  success: "&a‚úÖ ¬°Has ascendido a {new_rank}&a!"
  failed: "&c‚ùå Te faltan estos requisitos para ascender:"
  cooldown: "&c‚è∞ Espera {seconds} segundos antes de intentar rankup"
  max_rank: "&5‚≠ê ¬°Has alcanzado el rango m√°ximo: VETERANO! ‚≠ê"

  requirements:
    # üîß CORRECCI√ìN: Usar nombres est√°ndar de requisitos
    money: "&7‚Ä¢ Dinero: &c${current}&7/&a${required}"
    level: "&7‚Ä¢ Nivel de experiencia: &c{current}&7/&a{required}"
    playtime_hours: "&7‚Ä¢ Tiempo jugado: &c{current}h&7/&a{required}h"
    mob_kills: "&7‚Ä¢ Mobs eliminados: &c{current}&7/&a{required}"
    blocks_mined: "&7‚Ä¢ Bloques minados: &c{current}&7/&a{required}"
    farming_level: "&7‚Ä¢ Nivel de farming: &cLv.{current}&7/&aLv.{required}"
    mining_level: "&7‚Ä¢ Nivel de miner√≠a: &cLv.{current}&7/&aLv.{required}"
    animals_bred: "&7‚Ä¢ Animales criados: &c{current}&7/&a{required}"
    fish_caught: "&7‚Ä¢ Peces pescados: &c{current}&7/&a{required}"
    ender_dragon_kills: "&7‚Ä¢ Ender Dragons eliminados: &c{current}&7/&a{required}"
    wither_kills: "&7‚Ä¢ Withers eliminados: &c{current}&7/&a{required}"

# =================== REQUISITOS PERSONALIZADOS ===================
# üîß CORRECCI√ìN: Configurar placeholders personalizados correctamente
custom_requirements:
  # Para usar placeholders espec√≠ficos si los tienes instalados
  vault_balance: "%vault_eco_balance%"
  mcmmo_mining: "%mcmmo_level_mining%"
  mcmmo_power: "%mcmmo_power_level%"
  jobs_total: "%jobs_total_level%"

  # üÜï NUEVO: Placeholder para tiempo jugado si usas CMI
  playtime: "%cmi_user_playtime_hoursf%"

  # üÜï NUEVO: Integraci√≥n con Vault Economy
  money_vault: "%vault_eco_balance%"

# =================== EFECTOS Y SONIDOS ===================
effects:
  rankup:
    sounds:
      - "ENTITY_PLAYER_LEVELUP:1.0:1.2"
      - "UI_TOAST_CHALLENGE_COMPLETE:1.0:1.0"
      - "BLOCK_NOTE_BLOCK_CHIME:0.8:1.5"
    particles:
      type: "FIREWORK"
      count: 30
    title:
      enabled: true
      title: "&6&l¬°RANKUP!"
      subtitle: "&fAhora eres {new_rank}"
      duration: 60

# =================== CONFIGURACI√ìN AVANZADA ===================
advanced:
  cache_player_data: true
  cache_duration_minutes: 5
  validate_config: true
  detailed_logging: true

  # üÜï NUEVO: Lista de requisitos que requieren PlaceholderAPI
  requires_placeholderapi:
    - "vault_balance"
    - "mcmmo_mining"
    - "mcmmo_power"
    - "jobs_total"
    - "playtime"